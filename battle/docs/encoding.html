<!DOCTYPE html> 
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>Encoding - Writing Scripts - Battle Arena</title>
		<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
		<link rel="stylesheet" href="../battle.css" />
		<link rel="icon" type="image/x-icon" href="../assets/smallIcon.png">
	</head>
	<body>
		<a href="../../battle">
			<img id="logo" src="../assets/logo.png">
		</a>
		<div id="topImage"><img src="../assets/topImage_levelsguide.png"></div>
		<div class="bodyContent">
			<h2>Encoding</h2>
			<p>
				In order for data to be sent between users, it must be encoded as a string and then decoded on the receiving end. When using commands, this is done automatically. However, to do this manually, there are the following functions:

				<table>
					<tr>
						<th>Function</th>
						<th>Returns</th>
						<th>Description</th>
					</tr>
					<tr>
						<td><div class="codeName">onlinePlay.encodeValue&ZeroWidthSpace;(&ZeroWidthSpace;type (string), value (any)&ZeroWidthSpace;)</div></td>
						<td>string</td>
						<td>Encodes the given value into a string representation. These encoded strings can be concatenated together.</td>
					</tr>
					<tr>
						<td><div class="codeName">onlinePlay.decodeValue&ZeroWidthSpace;(&ZeroWidthSpace;type (string), encoded (string), start (number or nil)&ZeroWidthSpace;)</div></td>
						<td>any, number</td>
						<td>Decodes a value from a given string and returns it as its first return value. For an encoded string that contains multiple values, the second return value acts as the start position for the next value to decode.</td>
					</tr>
				</table>
			</p>
			<p>
				The type value of these functions can be any of the strings listed below.
				<table>
					<tr>
						<th>Type</th>
						<th>Description</th>
					</tr>
					<tr>
						<td><div class="codeName">number</div></td>
						<td>A floating point number.</td>
					</tr>
					<tr>
						<td><div class="codeName">boolean</div></td>
						<td>A true/false value.</td>
					</tr>
					<tr>
						<td><div class="codeName">nil</div></td>
						<td>A nil value.</td>
					</tr>
					<tr>
						<td><div class="codeName">string</div></td>
						<td>A string. Cannot be longer than 65,535 bytes.</td>
					</tr>
					<tr>
						<td><div class="codeName">table</div></td>
						<td>A Lua table.</td>
					</tr>
					<tr>
						<td><div class="codeName">list</div></td>
						<td>A Lua table whose keys are consecutive numbers, starting at 1. Note that encoding a list is more efficient than a standard table.</td>
					</tr>
					<tr>
						<td><div class="codeName">Vector2</div></td>
						<td>A 2D vector object from the Vector class.</td>
					</tr>
					<tr>
						<td><div class="codeName">Vector3</div></td>
						<td>A 3D vector object from the Vector class.</td>
					</tr>
					<tr>
						<td><div class="codeName">Vector4</div></td>
						<td>A 4D vector object from the Vector class.</td>
					</tr>
					<tr>
						<td><div class="codeName">uint8</div></td>
						<td>An integer ranging between 0 and 255.</td>
					</tr>
					<tr>
						<td><div class="codeName">sint8</div></td>
						<td>An integer ranging between -128 and 127.</td>
					</tr>
					<tr>
						<td><div class="codeName">uint16</div></td>
						<td>An integer ranging between 0 and 65535.</td>
					</tr>
					<tr>
						<td><div class="codeName">sint16</div></td>
						<td>An integer ranging between -32768 and 32767.</td>
					</tr>
					<tr>
						<td><div class="codeName">uint32</div></td>
						<td>An integer ranging between 0 and 4294967295.</td>
					</tr>
					<tr>
						<td><div class="codeName">sint32</div></td>
						<td>An integer ranging between -2147483648 and 2147483647.</td>
					</tr>
					<tr>
						<td><div class="codeName">any</div></td>
						<td>Encodes any other type automatically. May not always pick the most efficient type (for instance, it will pick "number" over the more efficient integer types).</td>
					</tr>
				</table>
			</p>
		</div>

		<img class="background" src="../assets/background.png">
	</body>
</html>